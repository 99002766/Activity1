!DOCTYPE html
html lang=en
head
    meta charset=UTF-8
    meta name=viewport content=width=device-width, initial-scale=1.0
    titleEmployee Monitoring Systemtitle
    script src=.scriptscommon.jsscript
    script src=.scriptsempData.jsscript
    script

        let mgr = new empManager();
        function init(){
            $hide(div1);
            $hide(div2);
            $hide(div3);
            add some dummy records to the store...
            mgr.addEmployee(new employee(123, harshi, KDP));
            mgr.addEmployee(new employee(124, Santha, ATP));
            mgr.addEmployee(new employee(125, Alex, PGR));
            mgr.addEmployee(new employee(126, Josh, CTR));
        }

        Called when the user clicks the link of adding employee
        function onAddClick(){
            $hide(div1);
            $hide(div2);
            $show(div3);
        }
        Called when the user clicks Add Employee Button;
        function onAddEmployee(){
            let id = $(newId).value;
            let name = $(newName).value;
            let address = $(newAddress).value;
            create the employee object...
            let emp = new employee(id, name, address)
            mgr.addEmployee(emp);
            $(newId).value =;
            $(newName).value =;
            $(newAddress).value =;
            alert(Employee added successfully);
        }

        function fillRecords(){
            $hide(div3);
            $hide(div2);
            $show(div1);
           to fillthEmp IDththEmp IDth the table of data..
           let heading = `trthEmp IDththEmp NameththEmp AddressththOptionsth`;
            $(tblRecords).innerHTML = heading;
            $show(div1);
            let data = mgr.getAll();
            data.forEach(emp = {
                let row = `trtd${emp.empId}tdtd${emp.empName}tdtd${emp.empAddress}tdtda href=# class=edit sid=${emp.empId}Editatdbutton onclick=delEmp() class=remove did=${emp.empId}xbuttontdtd`;
                $('tblRecords').innerHTML += row;
                $mapEvent(edit, function(){
                    debugger;
                    let selectedId = this.attributes[sid].value;
                    let empObj = mgr.findEmployee(selectedId);
                    $(empId).innerText = empObj.empId;
                    $(empName).value = empObj.empName;
                    $(empAddress).value = empObj.empAddress;
                    $hide(div1);
                    $hide(div3);
                    $show(div2);
                })
            });
        }
        function delEmp(){
            var res = confirm(Do you confirm);
            if(res){
                $mapEvent(remove, function(){
                    debugger;
                    let selectedId = this.attributes[did].value;
                    mgr.deleteEmployee(selectedId);
                    let dataDel = mgr.getAll();

                })  
            }
            else{
                alert(not deleted);
            }

        }
        function updateRecord(){
            let id = $(empId).innerText;
            let name = $(empName).value;
            let address = $(empAddress).value;
            create the employee object...
            let emp = new employee(id, name, address)
            try {
                mgr.updateEmployee(emp);
                alert(Employee updated!!!!);                
            } catch (error) {
                alert(error.message);
            }            
        }
    script
head
body onload=init()
    header
        nav
            a href=# onclick=fillRecords()View All
            a href=# onclick=onAddClick()New Employee
            a href=#About Us
        nav
    header
    section
       div id=div1
           h2List of Employees with Us!!!!h2
           table id=tblRecords border=1 width=100%
               
           table
       div
       div id=div2
            h2Edit the Details of the Employeeh2
            pEmployee ID span id=empIdspan p
            pEmployee Name   input type=text id=empNamep    
            pEmployee Address   input type=text id=empAddressp
            pbutton onclick=updateRecord()Update Recordbuttonp    
       div
       div id=div3
            h2Add the Details of the Employeeh2
            pEmployee ID input type=number id=newId p
            pEmployee Name input type=text id=newNamep
            pEmployee Address input type=text id=newAddressp
            pbutton onclick=onAddEmployee()Add Employeebuttonp
       div 
    section
body
html
